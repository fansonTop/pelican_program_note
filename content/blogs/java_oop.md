Title: java面向对象
Date: 2021-10-24 18:07
Category: java
Tags: java, oop
Authors: Fanson
Summary: 对java面向对象的一些总结


### java中的类和对象初识  
1) 对象的构成  
    1.1) 属性: 数据特性  
    1.2) 方法: 操作，行为  
    1.3) java中先有类型，后有对象    
  
2) 在java中定义类  
    2.1) 在类中定义这个类的对象有哪些属性和方法  
    2.2) 声明属性  
    2.3) 声明方法  

3) 在java中实例化类的对象 **程序中操作的都是对象**  
    3.1) 一个类可以实例化无数个对象  
    3.2) 对象是程序操作的主体  
    3.3) 通过对象名加点（.）  
        > 来访问对象的属性  
        > 来调用对象的方法  
    3.4) 实例化对象的格式:  
        > <类名> <对象名> = new <类名>;  
        ```java
            Student student = new Student();  
        ```

4) 对象属性的默认值  
    4.1) 对象的属性是有默认值的  
    4.2) 基本数据类型的默认值分别为0，0.0，false  
    4.3) 引用类型的数据的默认值为null


### 方法重载
1) 方法签名  
   * 每个方法的定义都包含：
     * 修饰词
     * 返回值类型
     * 方法明
     * 参数列表
   * 方法签名 = 方法名 + 参数列表
   * 每个类中不允许方法签名完全相同的方法
   * 方法名相同，参数列表不同是允许的
  
2) 方法重载（方法超载，overload）**方法重载在代码编译时确定，编译绑定**  
   * 在同一个类中，方法名相同，参数列表不同的多个方法
   * 参数列表不同包含：
     * 数量
     * 类型
     * 顺序
   * 方法的修饰符和返回值类型，对方法重载无关紧要

3) 方法重载的好处  
   * 不需要记忆功能相似的方法名
   * 系统中利用方法重载编写了很多内容，方便使用


### 构造方法
1) 定义  
   * 在对象被实例化时运行的一个特殊方法
   * 为什么需要特殊方法：
      * 在构造方法中可以给属性赋值

2) 构造方法编写  
      ```java
          public <类名>() {方法体}
      ```
      * 构造方法没有返回值
      * 构造方法名必须和类名相同
      * 在实例化对象时，会自动运行构造方法

3) 构造方法注意事项  
   * 如果一个类中没有编写构造方法，系统会自动给这个类分配一个默认的无参构造
   * 如果一个类中编写了任意一个构造方法，那么系统就不会分配默认构造方法
   * 构造方法可以重载
   * 构造方法智能在实例话对象时调用，不能使用对象打点调用


### 成员变量和局部变量
1) 成员变量：***类中定义的属性就是成员变量***  
2) 局部变量：***方法中定义的变量和方法的形式参数就是局部变量***  
3) 区别  
   * 作用域：
     * 成员变量：类中的所有方法均可使用（非静态）
     * 局部变量：只有定义它的方法中可以使用
   * 初始默认值不同：
     * 成员变量：0/0.0/false/null
     * 局部变量：没有初始值
   * 优先级不同
     * 如果在一个方法中使用成员变量和局部变量
     * 并且变量名相同，优先使用局部变量


### this关键字
1) 定义：方法中对象对自身的引用  
2) this.属性：能够区分成员变量和局部变量  
3) this.方法：调用当前类中的方法  
4) this<参数>：调用当前类的构造方法  
   * 必须写在构造方法中  
   * 必须写在方法中的第一行  


### 数据类型分类
1) 基本数据类型
   > 基本数据类型变量保存的值在内存的栈中  
2) 引用数据类型
   > String，数组，类  
   > 引用数据类型变量保存在栈中的值，是它引用对象的引用值
3) 引用数据类型的数组
   > int[] nums = new int[5]  基本数据类型的数组  
   > Dog[] dogs = new Dog[5]  引用数据类型的数组
   3.1) 引用数据类型数组元素的默认值为：null
   3.2) 为引用数据类型数组元素赋值，需要赋值对象
   3.3) 引用数据类型数组的元素，可以调用这个元素引用对象的属性和方法
4) 空：null
   > null表示这个变量没有引用任何对象  
   > 当一个变量引用null时，如果打点调用了任何属性或方法，都会引发空指针异常
   NullPointerException  
   解决方案：1.让原来的null的变量引用某个对象；2.判断为非空后再调用
5) 引用类型数组也可以声明的同时赋值
   ```java
       Dog[] dogs = {
           new Dog(...),
           new Dog(...),
           new Dog(...)
       };
   ```
6) 多维数组


### 继承 ***继承/封装/多态***
1) 定义：就是面向对象编程中一种代码复用的方式
2) 继承的格式：
   ```java
       class A extends B {}
   ```
3) 注意事项：
   * java中继承都是单继承
   * 如果一个类没有继承任何父类，那么默认继承Object
4) 继承下构造方法的运行
   4.1) 实例化子类对象时，会先运行父类的构造方法
   4.2) 因为内存中子类对象中实际包含一个父类对象的引用，所有实例化子类对象前，要先实例化一个父类的对象
   4.3) 子类中如果没有特殊编码，自动调用父类的无参构造，如果父类没有无参构造，会发生编译错误
   4.4) 子类中可以选择调用父类的那个构造方法，使用super关键字
5) super关键字
   5.1) 定义：方法中对象对父类的引用
   5.2) super的使用
       * super.<属性>：父类和子类有同名属性时，super调用父类的属性
       * super.<方法>：父类和子类有同名方法时，super调用父类的方法
       * super(参数列表)：调用父类的构造方法，必须卸载自类构造方法中的第一行
  
    *** java中如果在构造方法中没有编写哪个父类的构造，默认super()***

6) 方法重写（方法覆盖，override）
   6.1) 定义：在子类中编写一个和父类的某个方法一模一样的方法
   6.2) 作用：使用父类引用可以调用到子类重写后的方法（向上造型后），实现父类调用子类方法
   6.3) 规则：
       * 必须相同的地方：方法名，参数列表，如果返回值类型时void或是基本数据类型，必须一致
       * 可以不同的地方：返回值类型是引用数据类型时，子类的返回值类型可以时父类返回值类型的子类
       * 子类抛出的异常可以是父类抛出异常的子类
7) 方法重载overload和方法重写override
   7.1) 方法重载时编译期绑定，方法重写是运行期绑定
   7.2) 方法重载中所有同一个类实际上是指同一个作用域


### 向上造型
1) 定义：子类对象当作父类对象使用
   ```java
       Pet p = new Dog();
   ```

2) 向上造型之后的优缺点
   2.1) 缺点
       > 父类类型的引用，智能调用到父类中声明的成员，不能调用子类中声明的成员
   2.2) 优点
       > 声明一个父类类型的数组，不同类型的子类对象可以放入同一个父类数组中管理